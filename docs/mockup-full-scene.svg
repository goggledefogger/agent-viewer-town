<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <style>
    text { font-family: 'Courier New', monospace; }
    @keyframes pulse { 0%,100% { opacity: 0.5; } 50% { opacity: 1; } }
    @keyframes bob { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }
    @keyframes conveyor { from { stroke-dashoffset: 0; } to { stroke-dashoffset: -20; } }
    @keyframes spin-gear { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  </style>

  <defs>
    <linearGradient id="skyG" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1a1a2e"/>
      <stop offset="60%" stop-color="#16213e"/>
      <stop offset="100%" stop-color="#0f3460"/>
    </linearGradient>
  </defs>

  <!-- ========== FULL SCENE INTEGRATION MOCKUP ========== -->

  <!-- Sky -->
  <rect width="900" height="600" fill="url(#skyG)"/>

  <!-- Ground -->
  <rect x="0" y="480" width="900" height="120" fill="#2d5a27"/>
  <rect x="0" y="480" width="900" height="4" fill="#4a6741"/>

  <!-- Stars -->
  <rect x="80" y="40" width="2" height="2" fill="#ffffff" opacity="0.5"/>
  <rect x="200" y="60" width="2" height="2" fill="#ffffff" opacity="0.6"/>
  <rect x="340" y="30" width="2" height="2" fill="#ffffff" opacity="0.4"/>
  <rect x="500" y="50" width="2" height="2" fill="#ffffff" opacity="0.7"/>
  <rect x="650" y="35" width="2" height="2" fill="#ffffff" opacity="0.5"/>

  <!-- Trees -->
  <g opacity="0.6">
    <g transform="translate(50, 440)">
      <rect x="-4" y="0" width="8" height="40" fill="#5a3a1a"/>
      <polygon points="-20,-5 0,-40 20,-5" fill="#2d5a27"/>
      <polygon points="-15,-20 0,-50 15,-20" fill="#3a7a34"/>
    </g>
    <g transform="translate(780, 440)">
      <rect x="-4" y="0" width="8" height="40" fill="#5a3a1a"/>
      <polygon points="-20,-5 0,-40 20,-5" fill="#2d5a27"/>
      <polygon points="-15,-20 0,-50 15,-20" fill="#3a7a34"/>
    </g>
  </g>

  <!-- Branch lane (main) -->
  <rect x="0" y="488" width="900" height="18" fill="#4CAF50" opacity="0.12"/>
  <rect x="0" y="488" width="900" height="1" fill="#4CAF50" opacity="0.2"/>
  <text x="8" y="500" fill="#4CAF50" font-size="7" opacity="0.5">&#x2387; main</text>

  <!-- ===== AGENT 1: Lead (Beaver) at center-top ===== -->
  <g transform="translate(450, 200)">
    <!-- Platform -->
    <rect x="-30" y="20" width="60" height="8" fill="#5a3a1a" rx="2"/>
    <rect x="-26" y="16" width="52" height="8" fill="#7a5a3a" rx="2"/>
    <!-- Body (simplified beaver) -->
    <rect x="-8" y="-2" width="16" height="16" fill="#8B6914" rx="2"/>
    <rect x="-5" y="2" width="10" height="10" fill="#D4A56A" rx="1"/>
    <rect x="-8" y="-14" width="16" height="14" fill="#8B6914" rx="2"/>
    <rect x="-5" y="-10" width="3" height="2" fill="#1a1a2e"/>
    <rect x="3" y="-10" width="3" height="2" fill="#1a1a2e"/>
    <rect x="-2" y="-4" width="5" height="3" fill="#1a1a2e" rx="0.5"/>
    <text x="0" y="38" text-anchor="middle" fill="#FFD700" font-size="8" font-weight="bold">team-lead</text>
    <text x="0" y="48" text-anchor="middle" fill="#64748b" font-size="6.5">Lead | #1</text>

    <!-- Action bubble -->
    <g transform="translate(0, -50)">
      <rect x="-55" y="-14" width="110" height="22" rx="4" fill="#16213e" stroke="#334155" stroke-width="1" opacity="0.95"/>
      <polygon points="-4,8 4,8 0,13" fill="#16213e" stroke="#334155" stroke-width="1"/>
      <rect x="-5" y="7" width="10" height="2" fill="#16213e"/>
      <text x="0" y="0" text-anchor="middle" fill="#e2e8f0" font-size="7.5">Coordinating team work</text>
    </g>

    <!-- TASK CLIPBOARD attached to agent -->
    <line x1="30" y1="20" x2="48" y2="16" stroke="#4169E1" stroke-width="1" stroke-dasharray="2 4" opacity="0.35"/>
    <g transform="translate(50, 6)">
      <rect x="0" y="0" width="22" height="28" rx="2" fill="#16213e" stroke="#4169E1" stroke-width="1.5"/>
      <rect x="6" y="-2" width="10" height="4" rx="1" fill="#FFD700"/>
      <text x="11" y="12" text-anchor="middle" fill="#e2e8f0" font-size="7">#1</text>
      <circle cx="11" cy="20" r="2.5" fill="#4169E1">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </g>
  </g>

  <!-- ===== AGENT 2: Researcher (Owl) at left ===== -->
  <g transform="translate(200, 120)">
    <rect x="-30" y="20" width="60" height="8" fill="#5a3a1a" rx="2"/>
    <rect x="-26" y="16" width="52" height="8" fill="#7a5a3a" rx="2"/>
    <!-- Body (simplified owl) -->
    <rect x="-9" y="-3" width="18" height="18" fill="#8B7355" rx="3"/>
    <rect x="-5" y="1" width="10" height="12" fill="#D4C4A8" rx="2"/>
    <rect x="-9" y="-16" width="18" height="16" fill="#8B7355" rx="3"/>
    <circle cx="-4" cy="-9" r="4" fill="#FFE4B5" stroke="#8B7355" stroke-width="1"/>
    <circle cx="4" cy="-9" r="4" fill="#FFE4B5" stroke="#8B7355" stroke-width="1"/>
    <circle cx="-4" cy="-9" r="2" fill="#1a1a2e"/>
    <circle cx="4" cy="-9" r="2" fill="#1a1a2e"/>
    <text x="0" y="38" text-anchor="middle" fill="#4169E1" font-size="8" font-weight="bold">researcher</text>
    <text x="0" y="48" text-anchor="middle" fill="#64748b" font-size="6.5">Researcher | 3 done</text>

    <!-- Action bubble: working -->
    <g transform="translate(0, -50)">
      <rect x="-45" y="-14" width="90" height="22" rx="4" fill="#16213e" stroke="#334155" stroke-width="1" opacity="0.95"/>
      <polygon points="-4,8 4,8 0,13" fill="#16213e" stroke="#334155" stroke-width="1"/>
      <rect x="-5" y="7" width="10" height="2" fill="#16213e"/>
      <text x="0" y="0" text-anchor="middle" fill="#e2e8f0" font-size="7.5">Reading watcher.ts</text>
    </g>

    <!-- Task clipboard: completed -->
    <line x1="30" y1="20" x2="48" y2="16" stroke="#28A745" stroke-width="1" stroke-dasharray="2 4" opacity="0.25"/>
    <g transform="translate(50, 6)">
      <rect x="0" y="0" width="22" height="28" rx="2" fill="#16213e" stroke="#28A745" stroke-width="1"/>
      <rect x="6" y="-2" width="10" height="4" rx="1" fill="#FFD700"/>
      <text x="11" y="12" text-anchor="middle" fill="#e2e8f0" font-size="7">#2</text>
      <path d="M7,18 L10,21 L15,16" stroke="#28A745" stroke-width="1.5" fill="none" stroke-linecap="square"/>
    </g>
  </g>

  <!-- ===== AGENT 3: Implementer (Fox) at center-bottom ===== -->
  <g transform="translate(450, 380)">
    <rect x="-30" y="20" width="60" height="8" fill="#5a3a1a" rx="2"/>
    <rect x="-26" y="16" width="52" height="8" fill="#7a5a3a" rx="2"/>
    <rect x="-8" y="-2" width="16" height="16" fill="#D4652B" rx="2"/>
    <rect x="-5" y="2" width="10" height="10" fill="#F5C99E" rx="1"/>
    <rect x="-8" y="-14" width="16" height="14" fill="#D4652B" rx="2"/>
    <rect x="-5" y="-10" width="3" height="2" fill="#1a1a2e"/>
    <rect x="3" y="-10" width="3" height="2" fill="#1a1a2e"/>
    <text x="0" y="38" text-anchor="middle" fill="#DC3545" font-size="8" font-weight="bold">implementer</text>
    <text x="0" y="48" text-anchor="middle" fill="#64748b" font-size="6.5">Implementer | #5</text>

    <!-- Waiting bubble -->
    <g transform="translate(0, -55)">
      <rect x="-68" y="-20" width="136" height="32" rx="6" fill="#1a1a2e" stroke="#FFD700" stroke-width="2" opacity="0.97"/>
      <polygon points="-5,12 5,12 0,17" fill="#1a1a2e" stroke="#FFD700" stroke-width="2"/>
      <rect x="-6" y="11" width="12" height="4" fill="#1a1a2e"/>
      <text x="0" y="-4" text-anchor="middle" fill="#FFD700" font-size="8" font-weight="bold">
        &#x26A0; Needs your input!
        <animate attributeName="opacity" values="1;0.6;1" dur="1.2s" repeatCount="indefinite"/>
      </text>
      <text x="0" y="8" text-anchor="middle" fill="#94a3b8" font-size="7">Permission: Write file</text>
    </g>

    <!-- Task clipboard: in progress -->
    <line x1="30" y1="20" x2="48" y2="16" stroke="#4169E1" stroke-width="1" stroke-dasharray="2 4" opacity="0.35"
          style="animation: conveyor 0.6s linear infinite"/>
    <g transform="translate(50, 6)">
      <rect x="0" y="0" width="22" height="28" rx="2" fill="#16213e" stroke="#4169E1" stroke-width="1.5"/>
      <rect x="6" y="-2" width="10" height="4" rx="1" fill="#FFD700"/>
      <text x="11" y="12" text-anchor="middle" fill="#e2e8f0" font-size="7">#5</text>
      <circle cx="11" cy="20" r="2.5" fill="#4169E1">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </g>
  </g>

  <!-- ===== AGENT 4: Tester (Bear) at right ===== -->
  <g transform="translate(700, 380)">
    <rect x="-30" y="20" width="60" height="8" fill="#5a3a1a" rx="2"/>
    <rect x="-26" y="16" width="52" height="8" fill="#7a5a3a" rx="2"/>
    <rect x="-9" y="-3" width="18" height="18" fill="#8B4513" rx="3"/>
    <rect x="-5" y="1" width="10" height="12" fill="#D2A679" rx="2"/>
    <rect x="-9" y="-16" width="18" height="16" fill="#8B4513" rx="3"/>
    <circle cx="-4" cy="-8" r="3" fill="#1a1a2e"/>
    <circle cx="4" cy="-8" r="3" fill="#1a1a2e"/>
    <rect x="-4" y="-8" width="2" height="1" fill="#ffffff"/>
    <rect x="3" y="-8" width="2" height="1" fill="#ffffff"/>
    <text x="0" y="38" text-anchor="middle" fill="#28A745" font-size="8" font-weight="bold">tester</text>
    <text x="0" y="48" text-anchor="middle" fill="#64748b" font-size="6.5">Tester | #6</text>

    <!-- Task clipboard: pending -->
    <line x1="30" y1="20" x2="48" y2="16" stroke="#6C757D" stroke-width="1" stroke-dasharray="2 4" opacity="0.2"/>
    <g transform="translate(50, 6)">
      <rect x="0" y="0" width="22" height="28" rx="2" fill="#16213e" stroke="#6C757D" stroke-width="1"/>
      <rect x="6" y="-2" width="10" height="4" rx="1" fill="#FFD700"/>
      <text x="11" y="12" text-anchor="middle" fill="#e2e8f0" font-size="7">#6</text>
      <circle cx="11" cy="20" r="2.5" fill="#6C757D"/>
    </g>
  </g>

  <!-- Pipe connections (simplified) -->
  <g>
    <!-- Lead to Researcher -->
    <path d="M 450 200 Q 325 130 200 120" fill="none" stroke="#334155" stroke-width="6" stroke-linecap="round" opacity="0.5"/>
    <path d="M 450 200 Q 325 130 200 120" fill="none" stroke="#1e293b" stroke-width="3" stroke-linecap="round"/>
    <path d="M 450 200 Q 325 130 200 120" fill="none" stroke="#4169E1" stroke-width="2" stroke-dasharray="4 8" opacity="0.6"
          style="animation: conveyor 0.6s linear infinite"/>

    <!-- Lead to Implementer -->
    <path d="M 450 200 Q 450 260 450 380" fill="none" stroke="#334155" stroke-width="6" stroke-linecap="round" opacity="0.5"/>
    <path d="M 450 200 Q 450 260 450 380" fill="none" stroke="#1e293b" stroke-width="3" stroke-linecap="round"/>
    <path d="M 450 200 Q 450 260 450 380" fill="none" stroke="#4169E1" stroke-width="2" stroke-dasharray="4 8" opacity="0.6"
          style="animation: conveyor 0.6s linear infinite"/>

    <!-- Lead to Tester -->
    <path d="M 450 200 Q 575 260 700 380" fill="none" stroke="#334155" stroke-width="6" stroke-linecap="round" opacity="0.5"/>
    <path d="M 450 200 Q 575 260 700 380" fill="none" stroke="#1e293b" stroke-width="3" stroke-linecap="round"/>
    <path d="M 450 200 Q 575 260 700 380" fill="none" stroke="#334155" stroke-width="2" stroke-dasharray="4 8" opacity="0.25"
          style="animation: conveyor 2s linear infinite"/>
  </g>

  <!-- ===== ZOOM CONTROLS (bottom-right overlay) ===== -->
  <g transform="translate(855, 410)">
    <!-- Zoom in -->
    <g>
      <rect x="0" y="0" width="28" height="28" rx="4" fill="#16213e" stroke="#334155" stroke-width="1" opacity="0.9"/>
      <rect x="12" y="6" width="2" height="14" fill="#94a3b8" rx="0.5"/>
      <rect x="6" y="12" width="14" height="2" fill="#94a3b8" rx="0.5"/>
    </g>
    <!-- Zoom out -->
    <g transform="translate(0, 30)">
      <rect x="0" y="0" width="28" height="28" rx="4" fill="#16213e" stroke="#334155" stroke-width="1" opacity="0.9"/>
      <rect x="6" y="12" width="14" height="2" fill="#94a3b8" rx="0.5"/>
    </g>
    <!-- Fit -->
    <g transform="translate(0, 60)">
      <rect x="0" y="0" width="28" height="28" rx="4" fill="#16213e" stroke="#334155" stroke-width="1" opacity="0.9"/>
      <rect x="6" y="6" width="14" height="14" rx="1" fill="none" stroke="#94a3b8" stroke-width="1.5"/>
      <rect x="10" y="10" width="6" height="6" fill="#94a3b8" opacity="0.4"/>
    </g>
  </g>

  <!-- ===== TITLE OVERLAY ===== -->
  <rect x="0" y="0" width="900" height="24" fill="#16213e" opacity="0.9"/>
  <text x="12" y="16" fill="#FFD700" font-size="10" font-weight="bold">FULL SCENE INTEGRATION MOCKUP</text>
  <text x="300" y="16" fill="#94a3b8" font-size="8">Task clipboards + zoom controls + existing scene elements</text>
</svg>
